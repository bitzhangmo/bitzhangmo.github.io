<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>[Unity] 渲染路径与光源 | zhangMo Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Unity的渲染路径以及更多不同类型的光源。">
<meta name="keywords" content="UnityShader">
<meta property="og:type" content="article">
<meta property="og:title" content="[Unity] 渲染路径与光源">
<meta property="og:url" content="https:&#x2F;&#x2F;bitzhangmo.github.io&#x2F;2018&#x2F;12&#x2F;24&#x2F;Unity%E7%AC%94%E8%AE%B0&#x2F;Unity-%E6%B8%B2%E6%9F%93%E8%B7%AF%E5%BE%84%E4%B8%8E%E5%85%89%E6%BA%90&#x2F;index.html">
<meta property="og:site_name" content="zhangMo Blog">
<meta property="og:description" content="Unity的渲染路径以及更多不同类型的光源。">
<meta property="og:locale" content="en">
<meta property="og:image" content="http:&#x2F;&#x2F;wx4.sinaimg.cn&#x2F;large&#x2F;007dFQ0Ily1fyl39t7v9gj30z60tsajj.jpg">
<meta property="og:image" content="http:&#x2F;&#x2F;wx3.sinaimg.cn&#x2F;large&#x2F;007dFQ0Ily1fyll089tw2j30l20imdiw.jpg">
<meta property="og:updated_time" content="2018-12-27T12:51:17.513Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http:&#x2F;&#x2F;wx4.sinaimg.cn&#x2F;large&#x2F;007dFQ0Ily1fyl39t7v9gj30z60tsajj.jpg">
  
    <link rel="alternate" href="/atom.xml" title="zhangMo Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">zhangMo Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://bitzhangmo.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Unity笔记/Unity-渲染路径与光源" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/12/24/Unity%E7%AC%94%E8%AE%B0/Unity-%E6%B8%B2%E6%9F%93%E8%B7%AF%E5%BE%84%E4%B8%8E%E5%85%89%E6%BA%90/" class="article-date">
  <time datetime="2018-12-24T15:13:58.000Z" itemprop="datePublished">2018-12-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      [Unity] 渲染路径与光源
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Unity的渲染路径以及更多不同类型的光源。</p>
<a id="more"></a>

<h2 id="Unity的渲染路径："><a href="#Unity的渲染路径：" class="headerlink" title="Unity的渲染路径："></a>Unity的渲染路径：</h2><h3 id="渲染路径："><a href="#渲染路径：" class="headerlink" title="渲染路径："></a>渲染路径：</h3><p>在Unity里，渲染路径（<strong>Rendering Path</strong>）决定了光照是如何应用到Unity Shader中的，<strong>如果想让Shader的光照计算正确执行，必须为Shader正确的选择和设置需要的渲染路径。</strong></p>
<h3 id="分类："><a href="#分类：" class="headerlink" title="分类："></a>分类：</h3><p>Unity支持多种类型的渲染路径，在Unity5.0前主要有三种：<strong>前向渲染路径（Forward Rendering Path），延迟渲染路径（Deferred Rendering Path）和顶点照明渲染路径（Vertex Lit Rendering Path）。</strong>在Unity5.0以后，顶点照明渲染路径已经被Unity抛弃（但目前仍然可以对之前使用了顶点照明渲染路径的UnityShader兼容），新的延迟渲染路径已经代替了旧的延迟渲染路径。</p>
<p>大多数情况下，一个项目只使用一种渲染路径，因此可以为整个项目设置渲染时的渲染路径。</p>
<p><code>Edit/Project Settings/Player/Other Settings/Rendering Path</code></p>
<p>如果希望使用多个渲染路径，可以在每个摄像机的渲染路径设置中设置该摄像机使用的渲染路径以覆盖Project Settings中的设置。</p>
<p>【图】</p>
<p>如果选择了Use Player Settings，那么这个摄像机会使用Project Settings中的设置；否则就会覆盖掉Project Settings中的设置。如果当前的显卡不支持所选择的渲染路径，Unity会自动使用更低一级的渲染路径。</p>
<ul>
<li>LightMode支持的渲染路径设置选项：</li>
</ul>
<table>
<thead>
<tr>
<th>标签名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>Always</td>
<td>不管使用哪种渲染路径，该Pass总是会被渲染，但不会计算任何光照</td>
</tr>
<tr>
<td>ForwardBase</td>
<td>用于<strong>前向渲染</strong>，该Pass会计算环境光、最重要的平行光、逐顶点/<a href="https://en.wikipedia.org/wiki/Spherical_harmonic_lighting" target="_blank" rel="noopener">SH光源</a>和Lightmaps</td>
</tr>
<tr>
<td>ForwardAdd</td>
<td>用于<strong>前向渲染</strong>，该Pass会计算额外的逐像素光源，每个Pass对应一个光源</td>
</tr>
<tr>
<td>Deferred</td>
<td>用于<strong>延迟渲染</strong>，该Pass会渲染G缓冲（G-buffer）</td>
</tr>
<tr>
<td>ShadowCaster</td>
<td>把物体的深度信息渲染到阴影映射纹理（shadowmap）或一张深度纹理中</td>
</tr>
<tr>
<td>PrepassBase</td>
<td>用于<strong>遗留的延迟渲染</strong>，该Pass会渲染法线和高光反射的指数部分</td>
</tr>
<tr>
<td>PrepassFinal</td>
<td>用于<strong>遗留的延迟渲染</strong>，该Pass通过合并纹理，光照与自发光来渲染得到最后的颜色</td>
</tr>
<tr>
<td>Vertex，VertexLMRGBM和VertexLM</td>
<td>用于<strong>遗留的顶点照明渲染</strong></td>
</tr>
</tbody></table>
<h4 id="前向渲染路径："><a href="#前向渲染路径：" class="headerlink" title="前向渲染路径："></a>前向渲染路径：</h4><p>前向渲染路径是传统的渲染方式，也是我们最常用的一种渲染路径。</p>
<ol>
<li><p>前向渲染路径的原理：</p>
<p>每进行一次完整的前向渲染，我们需要渲染该对象的渲染图元，并计算两个缓冲区的信息：<strong>颜色缓冲区与深度缓冲区</strong>。我们利用深度缓冲来决定一个片元是否可见，如果可见就更新颜色缓冲区中的颜色值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Pass&#123;</span><br><span class="line">    for(each primitive in this model)&#123;</span><br><span class="line">        for(each fragment covered by this primitive)&#123;</span><br><span class="line">            if(failed in depth test)&#123;</span><br><span class="line">                // 未通过深度测试，该片元不可见</span><br><span class="line">                discard;</span><br><span class="line">            &#125;</span><br><span class="line">            else&#123;</span><br><span class="line">                // 可见则进行光照计算</span><br><span class="line">                float4 color = Shading(materialInfo,pos,normal,lightDir,viewDir);</span><br><span class="line">                // 更新帧缓冲</span><br><span class="line">                writeFrameBuffer(fragment,color);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>对于每个逐像素光照，我们都需要进行上面一次完整的渲染流程。如果一个物体在多个逐像素光源的影响区域内，那么该物体就需要执行多个Pass，每个Pass计算一个逐像素光源的光照结果，然后在帧缓冲中把这些光照结果混合起来得到最终的颜色值。</p>
</li>
<li><p>Unity中的前向渲染</p>
<p>在Unity中，前向渲染路径有三种处理光照的方式：<strong>逐顶点处理，逐像素处理，球谐函数（Spherical Harmonics）处理。</strong>而决定一个光源使用哪种处理模式取决于<strong>它的类型和渲染模式</strong>。</p>
<ul>
<li>光源类型：该光源是平行光还是其他类型的光源</li>
<li>光源的渲染模式：该光源是否是重要的（Important），决定是否将其当作<strong>逐像素光源</strong>处理。</li>
</ul>
<p>在前向渲染中，Unity会根据场景中各个光源的设置以及这些光源对物体的影响程度（距离物体远近，光源强度等）来对光源进行一个重要度排序。其中，一定数目的光源会按照逐像素的方式进行排序，最多有4个光源按照逐顶点的方式进行处理，剩下的光源可以按照SH方式处理：</p>
<ul>
<li>场景中最亮的平行光总是按照逐像素处理</li>
<li>渲染模式被设置成Not Important的光源，会按逐顶点或者SH处理</li>
<li>渲染模式被设置成Important的光源，会按逐像素处理</li>
<li>如果以上规则得到的逐像素光源数量小于Quality Setting中的逐像素光源数量（Pixel Light Count），会有更多的光源以逐像素的方式进行渲染</li>
</ul>
</li>
<li><p>前向渲染的光照计算细节：<br> <img src="http://wx4.sinaimg.cn/large/007dFQ0Ily1fyl39t7v9gj30z60tsajj.jpg" alt=""></p>
<ul>
<li>需要使用编译指令保证Unity可以为相应类型的Pass生成所有需要的Shader变种，这些变种会处理不同条件下的渲染逻辑：是否使用光照贴图，当前处理哪种光源类型，是否开启了阴影等。</li>
<li>Base Pass中的平行光默认是支持阴影的，而Additional Pass中渲染的光源在默认情况下是没有阴影效果的，即使在Light组件中设置了有阴影的Shadow Type，但可以在Additional Pass中使用<code>#pragma multi——compile_fwdadd_fullshadows</code>代替<code>#pragma multi_compile_fwdadd</code>编译指令，这会为点光源和聚光灯开启阴影效果，但需要在Unity内部使用更多的Shader变种。</li>
<li>如果不在Additional Pass中开启混合模式，其渲染结果将会覆盖掉之前的渲染结果，通常情况下，混合模式选择Blend One One。</li>
<li>对于前向渲染来说，一个Unity Shader通常会定义一个Base Pass以及一个Additional Pass。<strong>一个Base Pass仅会执行一次，而一个Additional Pass会根据影响该物体的其他逐像素光源的数目被多次调用，即每个逐像素光源会执行一次Additional Pass。</strong></li>
</ul>
</li>
<li><p>内置的光照变量和函数（前向渲染）</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>光照变量名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>_LightColor0</td>
<td>float4</td>
<td>该Pass处理的逐像素光源的颜色</td>
</tr>
<tr>
<td>_WorldSpaceLightPos0</td>
<td>float4</td>
<td>_WorldSpaceLightPos0.xyz是该Pass处理的逐像素光源的位置，如果该光源类型是平行光，则_WorldSpaceLightPos0.w = 0，其他类型为1</td>
</tr>
<tr>
<td>_LightMatrix0</td>
<td>float4x4</td>
<td>从世界空间到光源空间的变换矩阵，可以用于采样cookie和光强衰减（attenuation）纹理</td>
</tr>
<tr>
<td>unity_4LightPosX0，unity_4LightPosY0，unity_4LightPosZ0</td>
<td>float4</td>
<td>仅用于Base Pass。前四个非重要的点光源在世界空间内的位置。</td>
</tr>
<tr>
<td>unity_4LightAtten0</td>
<td>float4</td>
<td>仅用于Base Pass。存储了前四个非重要的点光源的衰减因子。</td>
</tr>
<tr>
<td>unity_LightColor</td>
<td>half4[4]</td>
<td>仅用于Base Pass。存储了前四个非重要的点光源的颜色。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>光照函数名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>float3 WorldSpaceLightDir(float4 v)</td>
<td><strong>仅可用于前向渲染中。</strong>输入一个<strong>模型空间</strong>中的顶点位置，返回<strong>世界空间</strong>中从该点到光源的光照方向。内部实现使用了UnityWorldSpaceLightDir函数，没有被归一化。</td>
</tr>
<tr>
<td>float3 UnityWorldSpaceLightDir(float4 v)</td>
<td><strong>仅可用于前向渲染中。</strong>输入一个<strong>世界空间</strong>中的顶点位置，返回<strong>世界空间</strong>中从该点到光源的光照方向，没有被归一化。</td>
</tr>
<tr>
<td>float3 ObjSpaceLightDir(float4 v)</td>
<td><strong>仅可用于前向渲染中。</strong>输入一个<strong>模型空间</strong>中的顶点位置，返回<strong>模型空间</strong>中从该点到光源的光照方向，没有被归一化。</td>
</tr>
<tr>
<td>float3 Shade4PointLights(…)</td>
<td>仅可用于前向渲染中。计算四个点光源的光照，它的参数是已经打包进矢量的光照数据，通常是上述的光照变量，前向渲染通常会使用这个函数来计算逐顶点光照。</td>
</tr>
</tbody></table>
<h4 id="顶点照明渲染路径："><a href="#顶点照明渲染路径：" class="headerlink" title="顶点照明渲染路径："></a>顶点照明渲染路径：</h4><p>顶点照明渲染是对硬件配置要求最少、运算性能最高，但同时也是得到的效果最差的一种类型。它不支持那些逐像素才能得到的效果，例如阴影、法线映射、高精度的高光反射等。</p>
<ol>
<li><p>Unity中的顶点照明渲染：</p>
<p>顶点照明渲染路径通常在一个Pass中就可以完成对物体的渲染，在这个Pass中，我们通过逐顶点处理的方式计算所有我们关心的所有光源对该物体的照明。这是Unity中最快速的渲染路径，并且具有最广泛的硬件支持。</p>
</li>
<li><p>可访问的内置变量和函数：</p>
<p>如果我们只需要渲染其中两个光源对物体的照明，可以仅使用_LightColor0与_WorldSpaceLightPos0。如果影响该物体的光源数目小于8，那么数组中剩下的光源颜色会被设置成黑色。</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>内置变量名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>unity_LightColor</td>
<td>half4[8]</td>
<td>光源颜色。</td>
</tr>
<tr>
<td>unity_LightPosition</td>
<td>float4[8]</td>
<td>xyz分量是视角空间中的光源位置，如果光源是平行光，那么z分量值为0，其他光源类型z分量值为1。</td>
</tr>
<tr>
<td>unity_LightAtten</td>
<td>half4[8]</td>
<td>光源衰减因子。如果光源是聚光灯，x分量是cos(spotAngle/2)，y分量值为1/cos(spotAngle/4)；如果是其他类型的光源，x分量是-1，y分量是1。z分量是衰减的平方，w分量是光源范围开根号的结果。</td>
</tr>
<tr>
<td>unity_SpotDirection</td>
<td>float4[8]</td>
<td>如果光源是聚光灯的话，值为视角空间的聚光灯的位置；如果是其他类型的光源，值为(0,0,1,0)。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>内置函数名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>float3 ShaderVertexLights(float4 vertex,float3 normal)</td>
<td>输入模型空间中的顶点位置和法线，计算四个逐顶点光源的光照以及环境光。内部实现实际上调用了ShaderVertexLightsFull函数。</td>
</tr>
<tr>
<td>Float3 ShaderVertexLightsFull (float4 vertex,float3 normal, int lightCount,bool spotLight)</td>
<td>输入模型空间中的顶点位置和法线，计算lightCount个光源的光照以及环境光，如果spotLight值为true，那么这些光源会被当作聚光灯来处理，虽然结果更精确，但计算更加耗时；否则按点光源处理。</td>
</tr>
</tbody></table>
<h4 id="延迟渲染路径："><a href="#延迟渲染路径：" class="headerlink" title="延迟渲染路径："></a>延迟渲染路径：</h4><ul>
<li>前向渲染的问题：当场景中包含大量实时光源的时候，前向渲染的性能会急速下降。多个影响范围相互重叠的光源为了得到最终的光照效果，会将该区域的每个物体执行多个Pass来计算不同光源对该物体的光照结果，然后在颜色缓存中把这些结果混合起来得到最终的光照。然而，每执行一个Pass都要重新渲染一次物体，这导致了重复计算。</li>
<li>延迟渲染：利用颜色缓冲，深度缓冲以及额外的G-缓冲区，它存储了我们关心的表面的其他信息——法线，位置，用于光照计算的材质属性等。</li>
</ul>
<ol>
<li><p>延迟渲染的原理：</p>
<p>延迟渲染主要运用了两个Pass：在第一个Pass中，我们<strong>不进行任何光照计算</strong>，而是仅仅计算哪些片元是可见的，这主要是通过深度缓冲技术来实现，当发现一个片元是可见的，我们就把它的相关信息存储到G缓冲区中，然后在第二个Pass中，我们利用G缓冲区的各个片元信息来进行真正的光照计算。</p>
<p>延迟渲染使用的Pass数目通常就是两个，这跟场景中包含的光源数目没有关系——即延迟渲染的效率不依赖于场景的复杂度，而是和我们使用的屏幕空间大小有关。</p>
</li>
<li><p>Unity中的延迟渲染：</p>
<p>对于延迟渲染路径来说，它最适合在场景中光源数目很多、如果使用前向渲染会造成性能瓶颈的情况下使用。而且，延迟渲染路径中的每个光源都可以用逐像素的方式进行处理。</p>
<ul>
<li><p>缺点：</p>
<ul>
<li>不支持真正的抗锯齿（anti-aliasing）功能</li>
<li>不能处理半透明物体</li>
<li>对显卡有一定要求</li>
</ul>
</li>
<li><p>当使用延迟渲染时，我们需要提供两个Pass</p>
<ol>
<li><p>第一个Pass用于渲染G缓冲，在这个Pass中，我们会把物体的漫反射颜色、高光反射颜色、平滑度、法线、自发光和深度等信息渲染到屏幕空间的G缓冲区中，对于每个物体来说，这个Pass仅会执行一次。</p>
</li>
<li><p>第二个Pass用于计算真正的光照模型。这个Pass会使用上一个Pass中渲染的数据来计算最终的光照颜色，再存储到帧缓冲中。</p>
<p>默认的G缓冲区包含了以下几个渲染纹理：</p>
<ul>
<li>RT0：格式是ARGB32，RGB通道用于存储漫反射颜色，A通道没有被使用</li>
<li>RT1：格式是ARGB32，RGB通道用于存储高光反射颜色，A通道用于存储高光反射的指数部分</li>
<li>RT2：格式是ARGB2101010，RGB通道用于存储法线，A通道没有被使用</li>
<li>RT3：格式是ARGB32（非HDR）或ARGBHalf（HDR），用于存储自发光+lightmap+反射探针</li>
<li>深度缓冲和模版缓冲</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li><p>可访问的内置变量和函数：</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>_LightColor</td>
<td>float4</td>
<td>光源颜色</td>
</tr>
<tr>
<td>_LightMatrix0</td>
<td>float4x4</td>
<td>从世界空间到光源空间的变换矩阵。可以用于采样cookie和光强衰减纹理</td>
</tr>
</tbody></table>
<h4 id="选择哪种渲染路径："><a href="#选择哪种渲染路径：" class="headerlink" title="选择哪种渲染路径："></a>选择哪种渲染路径：</h4><p><a href="http://docs.unity3d.com/Manual/RenderingPaths.html" target="_blank" rel="noopener">关于四种渲染路径的Unity的官方文档</a></p>
<h2 id="Unity的光源类型："><a href="#Unity的光源类型：" class="headerlink" title="Unity的光源类型："></a>Unity的光源类型：</h2><h4 id="支持的光源类型："><a href="#支持的光源类型：" class="headerlink" title="支持的光源类型："></a>支持的光源类型：</h4><ul>
<li>平行光</li>
<li>点光源</li>
<li>聚光灯</li>
<li>面光源：（仅在烘焙时才可发挥作用）</li>
</ul>
<h4 id="具体介绍："><a href="#具体介绍：" class="headerlink" title="具体介绍："></a>具体介绍：</h4><ol>
<li><p>光源属性：位置，强度，方向，颜色，衰减</p>
<p><img src="http://wx3.sinaimg.cn/large/007dFQ0Ily1fyll089tw2j30l20imdiw.jpg" alt=""></p>
</li>
<li><p>平行光：</p>
<ol>
<li>照亮的范围没有限制</li>
<li>几何属性只有<strong>方向</strong>，且到所有点的方向都是一样的</li>
<li>没有衰减的概念</li>
</ol>
</li>
<li><p>点光源：</p>
<ol>
<li>照亮空间有限，由空间中的一个球体定义</li>
</ol>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://bitzhangmo.github.io/2018/12/24/Unity%E7%AC%94%E8%AE%B0/Unity-%E6%B8%B2%E6%9F%93%E8%B7%AF%E5%BE%84%E4%B8%8E%E5%85%89%E6%BA%90/" data-id="ck4kn9zlm001pv37k6fhs8hwd" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UnityShader/" rel="tag">UnityShader</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2019/01/01/%E9%9A%8F%E7%AC%94/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93%EF%BC%882018%EF%BC%89/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          年终总结（2018）
        
      </div>
    </a>
  
  
    <a href="/2018/12/20/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%BB%8F%E5%85%B8%E5%85%89%E7%85%A7%E6%A8%A1%E5%9E%8B/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">[图形学] 经典光照模型</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Lua/">Lua</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Unity/">Unity</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BC%80%E5%8F%91%E7%AC%94%E8%AE%B0/">开发笔记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%96%87%E5%AD%97/">文字</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/">源码阅读</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%BF%BB%E8%AF%91/">翻译</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/">计算机图形学</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AC%E8%BD%BD/">转载</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Artificial-Intelligence-for-Games/" rel="tag">Artificial Intelligence for Games</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Astar/" rel="tag">Astar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CineMachine/" rel="tag">CineMachine</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Excel/" rel="tag">Excel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FPS/" rel="tag">FPS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Lua/" rel="tag">Lua</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenGL/" rel="tag">OpenGL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shader/" rel="tag">Shader</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity/" rel="tag">Unity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity3D-%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/" rel="tag">Unity3D 游戏开发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UnityShader/" rel="tag">UnityShader</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unreal/" rel="tag">Unreal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unreal-Engine4/" rel="tag">Unreal Engine4</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unreal4/" rel="tag">Unreal4</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unity%E5%AD%A6%E4%B9%A0/" rel="tag">unity学习</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%89%E7%BA%BF%E8%BF%BD%E8%B8%AA/" rel="tag">光线追踪</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/" rel="tag">创建型模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%A8%E7%94%BB/" rel="tag">动画</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E5%BD%A2%E5%AD%A6/" rel="tag">图形学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8F%92%E4%BB%B6/" rel="tag">插件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B8%B8%E6%88%8FAI/" rel="tag">游戏AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/" rel="tag">游戏引擎</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%81%B5%E6%84%9F/" rel="tag">灵感</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F/" rel="tag">结构型模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/" rel="tag">行为型模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/" rel="tag">计算机图形学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">计算机网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%8F%E7%AC%94/" rel="tag">随笔</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">面试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%AA%A8%E9%AA%BC%E5%8A%A8%E7%94%BB/" rel="tag">骨骼动画</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Artificial-Intelligence-for-Games/" style="font-size: 10px;">Artificial Intelligence for Games</a> <a href="/tags/Astar/" style="font-size: 10px;">Astar</a> <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/CineMachine/" style="font-size: 10px;">CineMachine</a> <a href="/tags/Excel/" style="font-size: 10px;">Excel</a> <a href="/tags/FPS/" style="font-size: 10px;">FPS</a> <a href="/tags/Lua/" style="font-size: 18px;">Lua</a> <a href="/tags/OpenGL/" style="font-size: 12px;">OpenGL</a> <a href="/tags/Shader/" style="font-size: 16px;">Shader</a> <a href="/tags/Unity/" style="font-size: 20px;">Unity</a> <a href="/tags/Unity3D-%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/" style="font-size: 12px;">Unity3D 游戏开发</a> <a href="/tags/UnityShader/" style="font-size: 10px;">UnityShader</a> <a href="/tags/Unreal/" style="font-size: 10px;">Unreal</a> <a href="/tags/Unreal-Engine4/" style="font-size: 10px;">Unreal Engine4</a> <a href="/tags/Unreal4/" style="font-size: 10px;">Unreal4</a> <a href="/tags/unity%E5%AD%A6%E4%B9%A0/" style="font-size: 10px;">unity学习</a> <a href="/tags/%E5%85%89%E7%BA%BF%E8%BF%BD%E8%B8%AA/" style="font-size: 10px;">光线追踪</a> <a href="/tags/%E5%88%9B%E5%BB%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/" style="font-size: 12px;">创建型模式</a> <a href="/tags/%E5%8A%A8%E7%94%BB/" style="font-size: 12px;">动画</a> <a href="/tags/%E5%9B%BE%E5%BD%A2%E5%AD%A6/" style="font-size: 10px;">图形学</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 10px;">工具</a> <a href="/tags/%E6%8F%92%E4%BB%B6/" style="font-size: 10px;">插件</a> <a href="/tags/%E6%B8%B8%E6%88%8FAI/" style="font-size: 10px;">游戏AI</a> <a href="/tags/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/" style="font-size: 10px;">游戏引擎</a> <a href="/tags/%E7%81%B5%E6%84%9F/" style="font-size: 10px;">灵感</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 10px;">算法</a> <a href="/tags/%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">结构型模式</a> <a href="/tags/%E8%A1%8C%E4%B8%BA%E5%9E%8B%E6%A8%A1%E5%BC%8F/" style="font-size: 12px;">行为型模式</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9B%BE%E5%BD%A2%E5%AD%A6/" style="font-size: 14px;">计算机图形学</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 14px;">计算机网络</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 16px;">设计模式</a> <a href="/tags/%E9%9A%8F%E7%AC%94/" style="font-size: 10px;">随笔</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 10px;">面试</a> <a href="/tags/%E9%AA%A8%E9%AA%BC%E5%8A%A8%E7%94%BB/" style="font-size: 12px;">骨骼动画</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/12/18/%E9%9A%8F%E7%AC%94/Ludum-Dare-%E5%8E%86%E5%B1%8A%E4%B8%BB%E9%A2%98/">Ludum Dare 历届主题</a>
          </li>
        
          <li>
            <a href="/2019/10/05/%E9%9A%8F%E7%AC%94/%E6%90%AC%E7%93%A6%E5%B7%A5%E9%85%8D%E7%BD%AE%E8%AE%B0%E5%BD%95/">搬瓦工配置记录</a>
          </li>
        
          <li>
            <a href="/2019/09/24/%E7%BF%BB%E8%AF%91/%E7%BF%BB%E8%AF%91-Integrating-Lua/">[翻译]Integrating Lua</a>
          </li>
        
          <li>
            <a href="/2019/09/11/OpenGL%E7%AC%94%E8%AE%B0/Mac%E4%B8%8B%E9%85%8D%E7%BD%AEOpenGL%E7%8E%AF%E5%A2%83/">Mac下配置OpenGL环境</a>
          </li>
        
          <li>
            <a href="/2019/08/30/Unreal4%E7%AC%94%E8%AE%B0/Unreal%E6%8F%92%E4%BB%B6%E5%AD%A6%E4%B9%A0%EF%BC%9A%E5%AE%9E%E4%BE%8B%E6%BA%90%E7%A0%81%E9%98%85%E8%AF%BB/">Unreal插件学习：实例源码阅读</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 zhangMo<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>